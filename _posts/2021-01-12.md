---
layout: post
title: TV
category: dev
lang: jp
emoji: "ğŸ"
---

æ—¥æœ¬ã«å¸°ã£ã¦ãã¦ã‹ã‚‰ã—ã°ã‚‰ãçµŒã¡ã¾ã—ãŸã€‚åœ¨ç±³ä¸­ã¯TVã‚’è¦‹ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ãªãå¿…è¦ã ã¨æ„Ÿã˜ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã™ãŒã€å¸°ã£ã¦ãã¦ã¿ã‚‹ã¨æ¡ˆå¤–æ°—ã«ãªã‚‹ã‚‚ã®ãŒã§ã¦ããŸã‚Šã—ã¦ã„ã¾ã™ã€‚ã—ã‹ã—åŸºæœ¬çš„ã«ä½•äº‹ã‚‚ä¸€ç®‡æ‰€ã§æ¸ˆã¾ã›ãŸã„ã‚¿ã‚¤ãƒ—ã®äººé–“ãªã®ã§ã€Linuxã§è¦³ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¦ã¿ã¾ã—ãŸã€‚


ã¾ãšç¬¬ä¸€ã«ã€PCä¸Šã§TVã‚’è¦‹ã‚‹ã«ã¯ãƒãƒ¥ãƒ¼ãƒŠãŒå¿…è¦ã§ã™ã€‚[ã“ã®ãƒ–ãƒ­ã‚°][article]ã‚’å‚è€ƒã«ã€[PX-S1UD V2.0]ã¨ã„ã†ã‚‚ã®ã‚’è²·ã£ã¦ã¿ã¾ã—ãŸã€‚åŠ ãˆã¦ã€åœ°ãƒ‡ã‚¸ã‚’è¦‹ã‚‹ã«ã¯B-CASã‚«ãƒ¼ãƒ‰ãªã‚‹ã‚‚ã®ã§ã‚³ãƒ”ãƒ¼ã‚¬ãƒ¼ãƒ‰ï¼Ÿã‚’è§£é™¤ã—ãªã„ã¨ã„ã‘ãªã„ã‚‰ã—ãã€ãã‚Œç”¨ã®ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ãŒå¿…è¦ãªã‚ˆã†ã§ã™(ãƒãƒ¥ãƒ¼ãƒŠãƒ¼ã ã‘ã§è©¦ã—ã¦ã¿ãŸãŒãƒ¯ãƒ³ã‚»ã‚°ã—ã‹è¦³ã‚Œã¾ã›ã‚“ã§ã—ãŸ)ã€‚ã¾ãŸã—ã¦ã‚‚å…ˆç¨‹ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ã¦[SCR3310/v2.0]ã‚’å…¥æ‰‹ã—ã¾ã—ãŸã€‚

ã“ã‚Œã§ãƒãƒ¼ãƒ‰ã¯æƒã£ãŸã®ã§ã€æ¬¡ã«å¿…è¦ãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã™ã€‚

å®Ÿè¡Œç’°å¢ƒã¯elementary OS 5.1.7 Hera(Ubuntu 18.04.4 LTS)ã§ã™ã€‚

ã¾ãšã¯PX-S1UDã®å…¬å¼ãƒ‰ãƒ©ã‚¤ãƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```shell
wget http://plex-net.co.jp/plex/px-s1ud/PX-S1UD_driver_Ver.1.0.1.zip
unzip PX-S1UD_driver_Ver.1.0.1.zip
sudo cp PX-S1UD_driver_Ver.1.0.1/x64/amd64/isdbt_rio.inp /lib/firmware/
```

ç¶šã„ã¦ã‚«ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ç”¨ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```shell
apt update && apt install pcscd libpcsclite-dev libccid pcsc-tools
```

`pcsc_scan`ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã§ã€B-CASã‚«ãƒ¼ãƒ‰ãŒèªè­˜ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚`Japanese Chijou Digital B-CAS Card`ã¨å‡ºåŠ›ã®æœ€å¾Œã«è¡¨ç¤ºã•ã‚Œã‚Œã°æ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚

æ¬¡ã«ã€arib25ã¨ã„ã†ã‚¹ã‚¯ãƒ©ãƒ³ãƒ–ãƒ«è§£é™¤ç”¨ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```shell
apt install pkg-config
wget http://hg.honeyplanet.jp/pt1/archive/c44e16dbb0e2.zip
unzip c44e16dbb0e2.zip
cd pt1-c44e16dbb0e2/arib25
make
make install
```

éŒ²ç”»ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å¿…è¦ãª`recdvb`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

ã¾ãšã¯å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»è§£å‡ã—ã¾ã™ï¼š
```shell
apt install autoconf
wget http://www13.plala.or.jp/sat/recdvb/recdvb-1.2.0.tgz
tar xvzf recdvb-1.2.0.tgz
```

ç¶šã„ã¦ã€`recdvb`ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```shell
cd recdvb-1.2.0
./autogen.sh
./configure --enable -b25
make
make install
```
`configure`å®Ÿè¡Œæ™‚ã«`--enable -b25`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§`-b25`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒä½¿ç”¨å¯èƒ½ã«ãªã‚‹ã‚‰ã—ã„ã§ã™ã€‚  
`ls /usr/local/bin`ã®å®Ÿè¡ŒçµæœãŒ`recdvb`, `recdvbctl`, `recdvbchksig`ã§ã‚ã‚Œã°æ­£å¸¸ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸã¨æ€ã£ã¦è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚

ã“ã‚Œã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯å®Œäº†ã§ã™ã€‚recdvbã‚’èµ·å‹•ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
```shell
recdvb --b25 --http 8080
```
ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
```
using B25...
creating a http daemon
run as a daemon..
pid = 12115
listening at port 8080
```
ä¼¼ãŸã‚ˆã†ãªå‡ºåŠ›ãŒã•ã‚Œã‚Œã°è‰¯ã„ã§ã™ã€‚

ä»¥ä¸Šã§è¦–è´æº–å‚™ã¯æ•´ã£ãŸã®ã§ã€VLCã‚’ä½¿ã£ã¦http:8080ã‹ã‚‰ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã¦ã¿ã¾ã™:
```shell
vlc http://localhost:8080/16 2>/dev/null
```
ãƒãƒ¼ãƒˆç•ªå·å¾Œã®æ•°å­—ã§ãƒãƒ£ãƒ³ãƒãƒ«ç•ªå·ã‚’æŒ‡å®šã§ãã¾ã™ã€‚ä»Šå›ã¯16chã«ã—ã¾ã—ãŸã€‚  
ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå¤§é‡ã«åã‹ã‚Œã‚‹ã®ã§æœ«å°¾ã«`2>/dev/null`ã‚’ã¤ã‘ã¦ç„¡è¦–ã—ã¦ã„ã¾ã™ã€‚

![](/assets/images/vlcsnap-2021-01-12-17h21m19s816.png)
ç„¡äº‹æ˜ ã‚Šã¾ã—ãŸï¼


[chinachu]ã€[mirakurun]ã‚’ä½¿ã£ã¦éŒ²ç”»ã‚µãƒ¼ãƒã®æ§‹ç¯‰ã‚„ç•ªçµ„è¡¨ã®å–å¾—ãªã©ã€ã•ã‚‰ã«è‰²ã€…ãªã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã§ã™ã€‚ã„ã¤ã‹æŒ‘æˆ¦ã—ã¦ã¿ãŸã„ã‚‚ã®ã§ã™ãŒã€ä»Šã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¦–è´ã®ã¿ã§æº€è¶³ã§ã™ã€‚æ°—ã«ãªã‚‹æ–¹ã¯æ˜¯éä¸‹è¨˜ãƒªãƒ³ã‚¯ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
- https://ywnb.net/p/201612/3267
- https://ywnb.net/p/201612/3269

èµ·å‹•ãƒ»ãƒãƒ£ãƒ³ãƒãƒ«é¸æŠã«å°‘ã—æ‰‹é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ç°¡å˜ãªbashã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ãƒãƒ£ãƒ³ãƒãƒ«æŒ‡å®šãªã©ã‚’ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ã€‚

[B-CAS]: https://ja.wikipedia.org/wiki/B-CAS
[SCR3310/v2.0]: https://www.amazon.co.jp/gp/product/B0085H4YZC/ref=ppx_yo_dt_b_asin_title_o05_s00?ie=UTF8&psc=1
[PX-S1UD V2.0]: https://www.amazon.co.jp/gp/product/B0141NFWSG/ref=ppx_yo_dt_b_asin_title_o06_s00?ie=UTF8&psc=1
[article]: https://ywnb.net/p/201612/3262
[chinachu]: https://github.com/Chinachu/Chinachu
[mirakurun]: https://github.com/Chinachu/Mirakurun
